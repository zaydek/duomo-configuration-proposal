@forward "duomo-config";
@use "duomo-config" as config;

@use "escape" as *;
@use "get-ampersand" as *;

@mixin theme {
	html {
		@each $v in config.$opacity-range {
			--opacity-#{$v * 100}: #{$v};
		}
	}
}

@mixin props {
	$amp: get-ampersand();

	@each $v in config.$opacity-range {
		#{$amp}opacity-#{$v * 100} {
			opacity: #{$v};
		}
	}
}

@at-root {
	@if not config.$headless {
		@include props;
		@each $k, $v in config.$breakpoint-map {
			@media (min-width: #{$v + px}) {
				.#{$k} {
					@at-root {
						@include props;
					}
				}
			}
		}
	}
}
